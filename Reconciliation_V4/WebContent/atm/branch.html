

<div class="container">
<form name="myForm" ng-submit="fetchData()">

    
    <h4 align="center" >
    BRANCH CODE 
    <input type="number" name="branchCode" ng-model="branchCode" placeholder="Enter Branch Code" ng-minlength="5" ng-maxlength="5" ng-pattern="/4[0-9][0-9][0-9][0-9]/" required />
	<input type="submit" ng-disabled="myForm.branchCode.$dirty && myForm.branchCode.$invalid" />
	&nbsp;&nbsp;&nbsp; <font color="black" ><u>{{branchName}}</u></font>
    </h4>
     
    <span style="color:red" ng-show="myForm.branchCode.$dirty && myForm.branchCode.$invalid">
  			<span ng-show="myForm.branchCode.$error.required">Branch Code is required</span>
    </span>
    <!-- <span style="color:red" class="error" ng-show="myForm.branchCode.$error.minlength">Branch Code can't be less than 5 digit</span>
      <span style="color:red" class="error" ng-show="myForm.branchCode.$error.maxlength">Branch code cant't be more than 5 digit</span> -->
    <span style="color:red" class="error" ng-show="myForm.branchCode.$error.pattern">Branch code should be 5 digit number, start with 4</span>
   
   <!--  <div ng-show="loading" class="loading" align="center">
      <img src="/atm/img/loading-text.GIF">
    </div> -->
    
    <br>
     
   <h4 align="center">AGENCY ACCOUNTS FOR THE BRANCH
    <br><br>
   
      <div ng-repeat="bgl in bglLists">
        <input type="checkbox" id="checkbox-{{$index}}" value="{{bgl.bglAccountNumber}}" ng-model="bgl.selected"/>
        <label for="checkbox-{{$index}}">{{bgl.bglAccountNumber}}</label>
   	</div>
     </h4>
 </form>

   
   <br>
 

 <button style="float: right;" class="btn btn-link" ng-click="exportToExcel('#table1')">
        <span class="glyphicon glyphicon-share"></span> Export to Excel
 </button>
 
 
  <table id="table1" class="table table-fixed table-striped table-bordered table-hover ">
          <thead>
            <tr>
              <th rowspan="2">DATE</th>
              <th rowspan=2>AGENCY A/C NO.</th>
              <th colspan='2'>AGENCY A/C</th>
              <th colspan='2'>AGENCY A/C</th>
              <th >BGL 3198 <br><i>Cash replenishment txns only</i></th> 
              <th colspan='2'>AGENCY A/C - BGL 3198 DIFFERENCE</th>
              <th colspan='2'>ADMIN TXNS</th>
              </tr>
              <tr>
              <th>DEBIT</th>
              <th>CREDIT</th>
              <th>DAY'S OUTSTANDING</th>
                       
              <th>CUMM. OUTSTANDING</th>
              <th>NET TXNS</th>
             
              <th>DAY'S DIFF.</th>
              <th>CUMM. DIFF.</th>
              <th>INCREASE</th>
               <th>DECREASE</th>
              

            </tr>
            </thead>
            
            
            <!-- <tr ng-repeat="i in names" ng-show="isShown('{{i.bglAccountNumber}}')"  ng-class="{even: $even, odd: $odd}"> -->
             
             
             <!-- Table with multiple colors -->
             <!-- <tr ng-repeat="i in names" ng-show="isShown('{{i.bglAccountNumber}}')" >
              <td align='center' class="bgl">{{i.txnDate}}</td>
              <td align='center' class="bgl">{{i.bglAccountNumber}}</td>
              <td align='right' class='agency'>{{i.totalDebitInIntermediateAccount}}</td>
              <td align='right' class='agency'>{{i.totalCreditInIntermediateAccount}}</td>
      
              <td align='right' class="difference">{{i.dayDefference}}</td>
              <td align='right' class="difference">{{i.commulativeDifference}}</td>
               
              <td align='right' class="bgl"><a ng-href="/get3198TxnDetails?bglAccountNumber={{i.bglAccountNumber}}&txnDate={{i.txnDate}}&TotalDebit={{i.totalDebitInIntermediateAccount}}" target="_blank">{{i.net3198}}</a></td>
   
        
            
              <td align='right' class="difference">{{i.days3198}}</td>
              
              <td align='right' class="difference">{{i.commulative3198}}</td>
               <td align='right' class="admin"> {{i.totalAdminIncrease}}</td>
              <td align='right' class="admin">{{i.totalAdminDecrease}}</td>
            </tr> -->
            
            <tbody>
             
             <tr ng-repeat="i in names" ng-show="isShown('{{i.bglAccountNumber}}')" >
              <td align='center' >{{i.txnDate}}</td>
              <td align='center' >{{i.bglAccountNumber}}</td>
              <td align='right' >{{i.totalDebitInIntermediateAccount}}</td>
              <td align='right' >{{i.totalCreditInIntermediateAccount}}</td>
           
              <td align='right' class="difference" >{{i.dayDefference}}</td>
              <td align='right' class="difference">{{i.commulativeDifference}}</td>
               
              <td align='right' ><a ng-href="/get3198TxnDetails?bglAccountNumber={{i.bglAccountNumber}}&txnDate={{i.txnDate}}&TotalDebit={{i.totalDebitInIntermediateAccount}}" target="_blank">{{i.net3198}}</a></td>
           
        
            
              <td align='right' class="difference" >{{i.days3198}}</td>
              
              <td align='right' class="difference" >{{i.commulative3198}}</td>
               <td align='right' > {{i.totalAdminIncrease}}</td>
              <td align='right' >{{i.totalAdminDecrease}}</td>
            </tr>
            
            
            
            
          </tbody>
                     
        </table>
        
        <br><br><br>
        <div ng-show="loading" class="loading" align="center">
      		<img src="/atm/img/loading-text.GIF">
    	</div>	
        
        
        </div>
        
  

